name: smoke-clientes
name: smoke-clientes

on:
  workflow_dispatch:
  push:
    paths:
      - 'apps/clientes/**'

jobs:
  smoke:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Create always artifact
        shell: bash
        name: smoke-clientes

        on:
          workflow_dispatch:
          push:
            paths:
              - 'apps/clientes/**'

        jobs:
          smoke:
            runs-on: ubuntu-latest
            steps:
              - uses: actions/checkout@v4

              - name: Create always artifact
                shell: bash
                run: |
                  echo "always artifact: $(date)" > always-artifact.txt

              - name: Setup Node
                uses: actions/setup-node@v4
                with:
                  node-version: '18'
name: smoke-clientes

on:
  workflow_dispatch:

jobs:
  smoke:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Create always artifact
        shell: bash
        run: |
          echo "always artifact: $(date)" > always-artifact.txt

      - name: Create smoke-test artifact
        shell: bash
        run: |
          echo "smoke artifact: $(date)" > smoke-test.txt

      - name: Upload artifacts
        uses: actions/upload-artifact@v4
        with:
          name: smoke-artifacts
          path: |
            always-artifact.txt
            smoke-test.txt
                    npm install 2>&1 | tee npm-install-clientes.log || true
